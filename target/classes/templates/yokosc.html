<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<canvas id="gameCanvas" width="400" height="200" style="border:1px solid black;"></canvas>

<script>
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");

    let x = 0;
    let rightPressed = false;  // 右キー押下フラグ

    // キーが押されたとき
    window.addEventListener("keydown", (e) => {
        if (e.key === "ArrowRight") {
            rightPressed = true;
        }
    });

    // キーが離されたとき
    window.addEventListener("keyup", (e) => {
        if (e.key === "ArrowRight") {
            rightPressed = false;
        }
    });

    function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.fillRect(x, 100, 30, 30); // 四角を描く

        if (rightPressed) {
            x += 2; // 右キー押されてたら右に動く
        }

        if (x > canvas.width) x = -30;

        requestAnimationFrame(draw);
    }

    draw();
</script>
